# 카카오 플랫폼 도메인 등록 가이드

"등록되지 않은 플랫폼에서 액세스 토큰을 요청했습니다" 오류 해결 방법

## 문제 원인

카카오 개발자 콘솔에서 웹 플랫폼과 사이트 도메인이 등록되지 않아서 발생하는 오류입니다.

## 해결 방법

### 1단계: 카카오 개발자 콘솔 접속

1. [카카오 개발자 콘솔](https://developers.kakao.com/) 접속
2. 카카오 계정으로 로그인
3. **내 애플리케이션** 클릭
4. 앱 선택 (없으면 앱 생성)

### 2단계: 플랫폼 설정

1. **앱 설정** → **플랫폼** 탭 클릭

2. **웹 플랫폼 등록**
   - "웹 플랫폼 등록" 클릭
   - **여러 포트를 등록해야 합니다!**
   
   **필수 등록 (개발용):**
   ```
   http://localhost:3000
   http://localhost:3001
   ```
   
   **각각 따로 등록:**
   - 첫 번째: `http://localhost:3000` 입력 → 저장
   - 두 번째: `http://localhost:3001` 입력 → 저장
   
   **중요:** 
   - 포트 번호를 포함해야 합니다 (`:3000`, `:3001`)
   - `http://` 프로토콜 포함
   - 슬래시(`/`) 없이 입력
   - 각 포트마다 따로 등록해야 합니다

3. **프로덕션 도메인 (나중에)**
   - 실제 배포 시:
     ```
     https://your-domain.com
     ```

### 3단계: 카카오 로그인 활성화

1. **제품 설정** → **카카오 로그인** 클릭
2. **활성화 설정** ON
3. **Redirect URI 등록**:
   - `http://localhost:3001` 입력
   - `http://localhost:3000` 입력 (다른 포트 사용 시)
   - "저장" 클릭

### 4단계: 동의항목 설정

1. **동의항목** 탭 클릭
2. 필수 동의항목:
   - ✅ **닉네임** (필수)
   - ✅ **프로필 사진** (필수)
3. 선택 동의항목:
   - ⬜ **이메일** (선택사항, 필요시 활성화)

### 5단계: 테스트

1. 브라우저에서 http://localhost:3001 접속
2. "카카오 로그인" 버튼 클릭
3. 카카오 로그인 화면이 나타나면 성공!

## 주의사항

### 포트 번호 변경 시

개발 서버가 다른 포트를 사용하면:
- 카카오 개발자 콘솔에 해당 포트도 등록해야 합니다
- 예: `http://localhost:3002`, `http://localhost:3003` 등

### 프로덕션 배포 시

실제 도메인으로 배포할 때:
1. 카카오 개발자 콘솔에 프로덕션 도메인 등록
   - 예: `https://your-domain.com`
2. Redirect URI도 프로덕션 도메인으로 등록
   - 예: `https://your-domain.com`

## 빠른 체크리스트

- [ ] 카카오 개발자 콘솔 접속
- [ ] 내 애플리케이션 선택
- [ ] 앱 설정 → 플랫폼 탭
- [ ] 웹 플랫폼 등록: `http://localhost:3000` (필수!)
- [ ] 웹 플랫폼 등록: `http://localhost:3001` (필수!)
- [ ] 제품 설정 → 카카오 로그인 활성화
- [ ] Redirect URI 등록: `http://localhost:3000` (필수!)
- [ ] Redirect URI 등록: `http://localhost:3001` (필수!)
- [ ] 동의항목 설정 (닉네임, 프로필 사진 필수)
- [ ] 브라우저에서 테스트

## 문제 해결

### 여전히 오류가 발생하는 경우

1. **브라우저 캐시 삭제**
   - Ctrl + Shift + R (강력 새로고침)
   - 또는 브라우저 개발자 도구 → Application → Clear storage

2. **개발 서버 재시작**
   ```bash
   # Ctrl+C로 중지 후
   npm run dev
   ```

3. **환경 변수 확인**
   - `.env.local`에 `NEXT_PUBLIC_KAKAO_JS_KEY`가 올바르게 설정되었는지 확인
   - 개발 서버 재시작

4. **카카오 개발자 콘솔 확인**
   - 플랫폼 도메인이 정확히 입력되었는지 확인
   - 포트 번호가 일치하는지 확인
   - 저장 버튼을 눌렀는지 확인

## 참고

- 카카오 개발자 콘솔: https://developers.kakao.com/
- 카카오 로그인 문서: https://developers.kakao.com/docs/latest/ko/kakaologin/js

