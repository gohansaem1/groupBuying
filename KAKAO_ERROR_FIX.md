# 카카오 로그인 오류 해결: misconfigured

## 오류 메시지

```
{error: 'misconfigured', error_description: 'invalid android_key_hash or ios_bundle_id or web_site_url'}
```

## 원인

카카오 개발자 콘솔에서 **웹사이트 URL**이 올바르게 설정되지 않았습니다.

## 해결 방법 (단계별)

### 1단계: 카카오 개발자 콘솔 접속

1. https://developers.kakao.com/ 접속
2. 카카오 계정으로 로그인
3. **내 애플리케이션** 클릭
4. 앱 선택

### 2단계: 플랫폼 설정 확인 및 수정

1. **앱 설정** → **플랫폼** 탭 클릭

2. **웹 플랫폼 확인**
   - "웹" 플랫폼이 등록되어 있는지 확인
   - 없으면 "웹 플랫폼 등록" 클릭

3. **사이트 도메인 정확히 입력**
   ```
   http://localhost:3001
   ```
   
   **중요 체크리스트:**
   - ✅ `http://` 프로토콜 포함
   - ✅ `localhost` 정확히 입력 (대소문자 구분 없음)
   - ✅ 포트 번호 포함 (`:3001`)
   - ✅ 슬래시(`/`) 없이 입력
   - ✅ 공백 없음
   - ✅ 저장 버튼 클릭

4. **다른 포트도 등록 (선택사항)**
   - 개발 중 포트가 변경될 수 있으므로:
     ```
     http://localhost:3000
     ```
   - 여러 포트를 등록해두면 편리합니다

### 3단계: 카카오 로그인 설정 확인

1. **제품 설정** → **카카오 로그인** 클릭

2. **활성화 설정 확인**
   - "활성화 설정"이 **ON**인지 확인

3. **Redirect URI 확인**
   - "Redirect URI 등록" 클릭
   - 다음 URI가 등록되어 있는지 확인:
     ```
     http://localhost:3001
     ```
   - 없으면 추가하고 저장

4. **동의항목 확인**
   - "동의항목" 탭 클릭
   - 필수 동의항목이 설정되어 있는지 확인:
     - ✅ 닉네임 (필수)
     - ✅ 프로필 사진 (필수)

### 4단계: 저장 및 대기

1. **모든 설정 저장**
   - 각 탭에서 "저장" 버튼을 눌렀는지 확인
   - 변경사항이 반영되는데 몇 초 걸릴 수 있습니다

2. **잠시 대기**
   - 설정 변경 후 1-2분 정도 기다리세요
   - 카카오 서버에 반영되는 시간이 필요합니다

### 5단계: 브라우저에서 테스트

1. **브라우저 캐시 삭제**
   - 개발자 도구 열기 (F12)
   - Application 탭 → Clear storage → Clear site data
   - 또는 Ctrl + Shift + R (강력 새로고침)

2. **개발 서버 재시작**
   ```bash
   # 터미널에서 Ctrl+C로 중지 후
   npm run dev
   ```

3. **다시 로그인 시도**
   - http://localhost:3001 접속
   - "카카오 로그인" 버튼 클릭

## 정확한 입력 형식

### ✅ 올바른 형식
```
http://localhost:3001
http://localhost:3000
https://your-domain.com
```

### ❌ 잘못된 형식
```
localhost:3001                    (프로토콜 없음)
http://localhost:3001/            (슬래시 있음)
http://localhost:3001/login       (경로 포함)
http://127.0.0.1:3001             (IP 주소는 안됨, localhost 사용)
https://localhost:3001            (https는 로컬에서 안됨)
```

## 문제가 계속되면

### 1. 환경 변수 확인
`.env.local` 파일 확인:
```env
NEXT_PUBLIC_KAKAO_JS_KEY=your_key_here
```

### 2. JavaScript 키 확인
- 카카오 개발자 콘솔 → 앱 키 탭
- JavaScript 키가 올바른지 확인
- `.env.local`의 값과 일치하는지 확인

### 3. 개발 서버 포트 확인
- 터미널에서 개발 서버가 어떤 포트를 사용하는지 확인
- 예: `Local: http://localhost:3001`
- 카카오 개발자 콘솔에 해당 포트가 등록되어 있는지 확인

### 4. 브라우저 콘솔 확인
- 개발자 도구 (F12) → Console 탭
- 다른 오류 메시지가 있는지 확인

## 빠른 체크리스트

- [ ] 카카오 개발자 콘솔 접속
- [ ] 앱 설정 → 플랫폼 탭
- [ ] 웹 플랫폼 등록: `http://localhost:3001` (정확히!)
- [ ] 저장 클릭
- [ ] 제품 설정 → 카카오 로그인
- [ ] 활성화 설정 ON
- [ ] Redirect URI: `http://localhost:3001` 등록
- [ ] 저장 클릭
- [ ] 1-2분 대기 (설정 반영 시간)
- [ ] 브라우저 캐시 삭제
- [ ] 개발 서버 재시작
- [ ] 다시 로그인 시도

## 참고

- 설정 변경 후 즉시 반영되지 않을 수 있습니다 (최대 1-2분)
- 포트 번호가 변경되면 카카오 개발자 콘솔에도 업데이트해야 합니다
- 프로덕션 배포 시 실제 도메인도 등록해야 합니다

