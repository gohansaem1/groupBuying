# 카카오 로그인 KOE205 에러 해결 가이드

"잘못된 요청 (KOE205)" 에러는 카카오 개발자 콘솔의 서비스 설정 오류입니다.

---

## 에러 의미

KOE205는 카카오 앱 설정에 문제가 있어서 발생하는 에러입니다. 보통 다음 중 하나입니다:
- Redirect URI가 등록되지 않음
- 사이트 도메인이 등록되지 않음
- 카카오 로그인 활성화 설정이 안 됨
- JavaScript 키가 잘못됨

---

## 해결 방법 (단계별)

### 1. 카카오 개발자 콘솔 접속

1. [카카오 개발자 콘솔](https://developers.kakao.com/) 접속
2. **내 애플리케이션** → 앱 선택

---

### 2. 플랫폼 설정 확인

1. **앱 설정** → **플랫폼** 탭 클릭
2. **웹 플랫폼** 등록되어 있는지 확인
   - 없으면 → **웹 플랫폼 등록** 클릭
3. **사이트 도메인**에 다음 추가:
   ```
   http://localhost:3000
   http://127.0.0.1:3000
   ```
   (프로덕션에서는 실제 도메인 추가)
4. **저장** 클릭

---

### 3. 카카오 로그인 설정 확인

1. **카카오 로그인** 탭 클릭
2. **활성화 설정** → **활성화** 되어 있는지 확인
   - 비활성화되어 있으면 → **활성화** 클릭
3. **Redirect URI 등록** 섹션에서 다음 추가:
   ```
   http://localhost:3000/login
   http://127.0.0.1:3000/login
   ```
   ⚠️ **중요**: 정확히 일치해야 함
   - `http://localhost:3000/login` (O)
   - `http://localhost:3000` (X)
   - `http://localhost:3000/` (X)
4. **저장** 클릭

---

### 4. JavaScript 키 확인

1. **앱 설정** → **일반** 탭 클릭
2. **앱 키** 섹션에서 **JavaScript 키** 확인
3. `.env.local` 파일의 `NEXT_PUBLIC_KAKAO_JS_KEY`와 일치하는지 확인
4. 다르면 → `.env.local` 업데이트 후 **서버 재시작**

---

### 5. 동의 항목 설정 확인

1. **카카오 로그인** 탭 → **동의항목** 클릭
2. **필수 동의** 항목 확인:
   - **닉네임** (필수)
   - **카카오계정(이메일)** (선택 또는 필수)
3. 필요하면 동의 항목 활성화

---

## 설정 후 확인

1. 모든 설정 **저장** 완료
2. 서버 재시작 (`npm run dev` 중지 후 다시 시작)
3. 브라우저 **완전히 닫고 다시 열기** (또는 시크릿 모드)
4. `http://localhost:3000/login` 접속
5. 카카오 로그인 버튼 클릭
6. 에러가 해결되었는지 확인

---

## 체크리스트

- [ ] 웹 플랫폼 등록됨
- [ ] 사이트 도메인에 `http://localhost:3000` 추가됨
- [ ] 카카오 로그인 활성화됨
- [ ] Redirect URI에 `http://localhost:3000/login` 추가됨 (정확히 일치)
- [ ] JavaScript 키가 `.env.local`과 일치함
- [ ] 모든 설정 저장 완료
- [ ] 서버 재시작
- [ ] 브라우저 새로고침

---

## 여전히 안 되면

1. 카카오 개발자 콘솔에서 **앱 상태** 확인
   - 앱이 **운영 중** 상태인지 확인
   - 개발 중 상태면 → **운영 중**으로 변경

2. **브라우저 콘솔(F12)**에서 에러 메시지 확인
   - 더 자세한 에러 정보가 있을 수 있음

3. **카카오 고객센터** 문의
   - [카카오 개발자 센터](https://developers.kakao.com/support)에서 문의

---

## 참고

KOE205는 카카오 서비스 설정 오류이므로, **카카오 개발자 콘솔에서 설정을 올바르게 해야** 해결됩니다. 코드를 수정하는 것이 아니라 **콘솔 설정**을 확인하는 것이 중요합니다.
