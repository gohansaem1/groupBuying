# 카카오 로그인 400 Bad Request 에러 해결 체크리스트

## ✅ 정상 동작 시

카카오 로그인 버튼을 누르면:
1. **카카오 웹 로그인 페이지로 이동** (아이디/비밀번호 입력창 표시)
2. 기존 세션이 있으면 "다시 로그인하기" 버튼 표시
3. 로그인 완료 후 자동으로 돌아옴

## ❌ 현재 문제

`GET https://kauth.kakao.com/oauth/authorize ... 400 (Bad Request)` 에러 발생
→ **카카오 로그인 화면이 표시되지 않음**

---

## 🔍 단계별 확인 사항

### 1단계: Redirect URI 등록 확인 (가장 중요!)

**현재 사용 중인 Redirect URI:**
```
https://group-buying-nine.vercel.app/api/auth/kakao/callback
```

**카카오 개발자 콘솔에서 확인:**

1. [카카오 개발자 콘솔](https://developers.kakao.com/) 접속
2. **내 애플리케이션** → 앱 선택
3. **카카오 로그인** 탭 클릭
4. **Redirect URI 등록** 섹션 확인

**정확히 이렇게 등록되어 있어야 합니다:**
```
https://group-buying-nine.vercel.app/api/auth/kakao/callback
```

⚠️ **주의사항:**
- 끝에 `/` 없이 정확히 입력
- `http://`와 `https://`는 별도로 등록 필요
- 대소문자 구분
- 경로(`/api/auth/kakao/callback`)까지 정확히 포함

**등록 방법:**
1. Redirect URI 입력 필드에 위 URL 입력
2. **등록** 버튼 클릭
3. **저장** 버튼 클릭 (중요!)
4. 저장 완료 메시지 확인

---

### 2단계: 카카오 로그인 활성화 확인

1. **카카오 로그인** 탭
2. **활성화 설정** 확인
3. **활성화** 상태여야 함
4. 비활성화되어 있으면 **활성화** 버튼 클릭

---

### 3단계: 사이트 도메인 등록 확인

1. **앱 설정** → **플랫폼** 탭
2. **웹 플랫폼** 등록 확인
3. **사이트 도메인**에 다음이 등록되어 있는지 확인:
   ```
   https://group-buying-nine.vercel.app
   ```
4. 등록되어 있지 않으면 **추가** 버튼 클릭하여 등록

---

### 4단계: JavaScript SDK 도메인 등록 확인

1. **앱 설정** → **플랫폼** 탭
2. **플랫폼 키** → **JavaScript 키** 클릭
3. **JavaScript SDK 도메인** 섹션 확인
4. 다음이 등록되어 있는지 확인:
   ```
   https://group-buying-nine.vercel.app
   ```
5. 등록되어 있지 않으면 **추가** 버튼 클릭하여 등록

---

### 5단계: 앱 키 확인

1. **앱 설정** → **일반** 탭
2. **앱 키** 섹션 확인
3. **JavaScript 키**가 `.env.local`의 `NEXT_PUBLIC_KAKAO_JS_KEY`와 일치하는지 확인
4. **REST API 키**가 `.env.local`의 `NEXT_PUBLIC_KAKAO_REST_API_KEY`와 일치하는지 확인

---

## 🔧 설정 후 확인

1. **모든 설정 저장** 완료
2. **브라우저 완전히 닫고 다시 열기** (또는 시크릿 모드)
3. `https://group-buying-nine.vercel.app/login` 접속
4. 카카오 로그인 버튼 클릭
5. 카카오 웹 로그인 화면이 표시되는지 확인

---

## 📋 체크리스트

다음 항목들을 모두 확인하세요:

- [ ] Redirect URI가 정확히 등록됨: `https://group-buying-nine.vercel.app/api/auth/kakao/callback`
- [ ] Redirect URI 등록 후 **저장** 버튼 클릭 완료
- [ ] 카카오 로그인이 **활성화** 상태
- [ ] 사이트 도메인이 등록됨: `https://group-buying-nine.vercel.app`
- [ ] JavaScript SDK 도메인이 등록됨: `https://group-buying-nine.vercel.app`
- [ ] 앱 키가 환경 변수와 일치
- [ ] 브라우저를 완전히 닫고 다시 열었음

---

## 🚨 여전히 안 되면

### 브라우저 콘솔 확인

**F12** → **Console** 탭에서 다음 확인:
- Redirect URI가 정확히 출력되는지 확인
- 다른 에러 메시지가 있는지 확인

### 네트워크 탭 확인

**F12** → **Network** 탭에서:
- `oauth/authorize` 요청 확인
- **Response** 탭에서 카카오가 반환하는 정확한 에러 메시지 확인

### 카카오 개발자 콘솔 재확인

1. 설정을 다시 한 번 확인
2. **저장** 버튼을 다시 클릭
3. 몇 분 기다린 후 다시 시도 (설정 반영 시간)

---

## 💡 참고

- 카카오 개발자 콘솔 설정 변경 후 **즉시 반영**됩니다
- 하지만 브라우저 캐시 때문에 **브라우저를 완전히 닫고 다시 열어야** 할 수 있습니다
- 시크릿 모드에서 테스트하면 캐시 문제를 피할 수 있습니다
